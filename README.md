# Messenger ‚Äî Real-Time Chat Application

[![Java](https://img.shields.io/badge/Java-17%2B-blue)](https://www.oracle.com/java/)
[![Spring Boot](https://img.shields.io/badge/Spring%20Boot-3.1.0-brightgreen)](https://spring.io/projects/spring-boot)
[![PostgreSQL](https://img.shields.io/badge/PostgreSQL-14%2B-informational)](https://www.postgresql.org/)
[![License](https://img.shields.io/badge/License-MIT-yellow)](https://opensource.org/licenses/MIT)

–ü–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –≥—Ä—É–ø–ø–æ–≤—ã—Ö —á–∞—Ç–æ–≤, —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ–º –∏ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º. –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö Java-—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π.

![Messenger Demo](screenshots/chat-preview.gif) *–ü—Ä–∏–º–µ—Ä —Ä–∞–±–æ—Ç—ã –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞*

## üåü –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### üë• –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
- –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π –¥–∞–Ω–Ω—ã—Ö
- JWT-–∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è —Å refresh-—Ç–æ–∫–µ–Ω–∞–º–∏
- –†–æ–ª–µ–≤–∞—è –º–æ–¥–µ–ª—å (USER, ADMIN)
- –ü—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å –∞–≤–∞—Ç–∞—Ä–∫–æ–π
- –ü–æ–∏—Å–∫ –ø–æ username/email

### üí¨ –ß–∞—Ç
- –õ–∏—á–Ω—ã–µ –∏ –≥—Ä—É–ø–ø–æ–≤—ã–µ —á–∞—Ç—ã
- –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ/—É–¥–∞–ª–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π
- –í–ª–æ–∂–µ–Ω–∏—è —Ñ–∞–π–ª–æ–≤ (–¥–æ 5 –ú–ë)
- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –Ω–∞–±–æ—Ä–µ —Ç–µ–∫—Å—Ç–∞
- –ò—Å—Ç–æ—Ä–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π —Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π
- –ü–æ–∏—Å–∫ –ø–æ –∏—Å—Ç–æ—Ä–∏–∏ –ø–µ—Ä–µ–ø–∏—Å–∫–∏

### üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- –®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π (AES-256)
- HTTPS –ø–æ–¥–¥–µ—Ä–∂–∫–∞
- –ó–∞—â–∏—Ç–∞ –æ—Ç XSS –∏ SQL-–∏–Ω—ä–µ–∫—Ü–∏–π
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–µ–π—Å—Ç–≤–∏–π
- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤ (Rate Limiting)

### üéõ –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ
- –ú–æ–¥–µ—Ä–∞—Ü–∏—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
- –≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö –≤ CSV
- –°–∏—Å—Ç–µ–º–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏ (Prometheus)

---

## üõ† –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

### Backend
| –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è               | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ                          | –í–µ—Ä—Å–∏—è   |
|--------------------------|-------------------------------------|----------|
| Java                     | –û—Å–Ω–æ–≤–Ω–æ–π —è–∑—ã–∫                       | 17+      |
| Spring Boot              | Framework core                      | 3.1.0    |
| Spring Security          | –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è/–∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è         | 6.0+     |
| Spring Data JPA          | –†–∞–±–æ—Ç–∞ —Å –ë–î                         | 3.0+     |
| WebSocket (STOMP)        | –†–µ–∞–ª—å–Ω—ã–π –≤—Ä–µ–º–µ–Ω–∏                    | RFC 6455 |
| MapStruct                | –ú–∞–ø–ø–∏–Ω–≥ DTO <-> Entity             | 1.5.3    |
| Liquibase                | –ú–∏–≥—Ä–∞—Ü–∏–∏ –ë–î                        | 4.15     |
| JUnit 5 + Mockito        | –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ                       | 5.8+     |

### –ë–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- **PostgreSQL** - –æ—Å–Ω–æ–≤–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ
- **Redis** - –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–µ—Å—Å–∏–π
- **Elasticsearch** - –ø–æ–ª–Ω–æ—Ç–µ–∫—Å—Ç–æ–≤—ã–π –ø–æ–∏—Å–∫

### Frontend
- Thymeleaf (—à–∞–±–ª–æ–Ω–∏–∑–∞—Ü–∏—è)
- Bootstrap 5 + jQuery
- SockJS + Stomp.js
- Chart.js (–¥–ª—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏)

### –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞
- Docker + Docker Compose
- Nginx (–æ–±—Ä–∞—Ç–Ω—ã–π –ø—Ä–æ–∫—Å–∏)
- Prometheus + Grafana (–º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥)
- GitHub Actions (CI/CD)

---

## üèó –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### –ú–æ–¥—É–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞

messenger/
‚îú‚îÄ‚îÄ api-gateway - –í—Ö–æ–¥–Ω–∞—è —Ç–æ—á–∫–∞ –¥–ª—è –∑–∞–ø—Ä–æ—Å–æ–≤
‚îú‚îÄ‚îÄ auth-service - –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è/—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ chat-service - –õ–æ–≥–∏–∫–∞ —á–∞—Ç–æ–≤ –∏ —Å–æ–æ–±—â–µ–Ω–∏–π
‚îú‚îÄ‚îÄ file-service - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ñ–∞–π–ª–∞–º–∏
‚îú‚îÄ‚îÄ notification-service - WebSocket/email/push
‚îî‚îÄ‚îÄ shared-lib - –û–±—â–∏–µ DTO/–∫–æ–Ω—Ñ–∏–≥–∏


### –°—Ö–µ–º–∞ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è
```mermaid
sequenceDiagram
    participant Client
    participant API_Gateway
    participant Auth_Service
    participant Chat_Service
    
    Client->>API_Gateway: HTTP/WebSocket
    API_Gateway->>Auth_Service: –ü—Ä–æ–≤–µ—Ä–∫–∞ JWT
    Auth_Service-->>API_Gateway: 200/401
    API_Gateway->>Chat_Service: –ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è
    Chat_Service->>Redis: –ö—ç—à
    Chat_Service->>PostgreSQL: –û—Å–Ω–æ–≤–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
    Chat_Service-->>Client: –û—Ç–≤–µ—Ç

üöÄ –ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞
–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è
Java 17 (Amazon Corretto)

Maven 3.8+

Docker 23.0+

4 GB —Å–≤–æ–±–æ–¥–Ω–æ–π –ø–∞–º—è—Ç–∏

–õ–æ–∫–∞–ª—å–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞
–ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:

bash
git clone --recurse-submodules https://github.com/nsdmlk/Messenger.git
cd Messenger

–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è:
cp .env.example .env
# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ .env —Ñ–∞–π–ª

–ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ Docker Compose:

docker-compose -f docker-compose.dev.yml up --build

–î–æ—Å—Ç—É–ø–Ω—ã–µ endpoints:

API: http://localhost:8080/api/v1/

Swagger: http://localhost:8080/swagger-ui/

Grafana: http://localhost:3000 (admin/admin)

–ü—Ä–æ—Ñ–∏–ª–∏ Spring
dev - H2 in-memory –±–∞–∑–∞ + debug logging

prod - PostgreSQL + –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

docker - –ö–æ–Ω—Ñ–∏–≥ –¥–ª—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏–∏

üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API
–ü–æ–ª–Ω–∞—è —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è –¥–æ—Å—Ç—É–ø–Ω–∞ –≤ Swagger UI –ø–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞:

Swagger Preview

–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞ —á–µ—Ä–µ–∑ cURL:

# –û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏—è
curl -X POST "http://localhost:8080/api/v1/messages" \
  -H "Authorization: Bearer YOUR_JWT" \
  -H "Content-Type: application/json" \
  -d '{"chatId": 123, "content": "Hello World!"}'

üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
–ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤:

bash
mvn test

–°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–µ—Å—Ç–æ–≤:

Unit-—Ç–µ—Å—Ç—ã (JUnit 5) - 80% –ø–æ–∫—Ä—ã—Ç–∏—è

–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã (Testcontainers)

API-—Ç–µ—Å—Ç—ã (Postman Collection)

–ù–∞–≥—Ä—É–∑–æ—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (JMeter)

ü§ù –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –¥–ª—è –∫–æ–Ω—Ç—Ä–∏–±—å—é—Ç–æ—Ä–æ–≤
–ü—Ä–∞–≤–∏–ª–∞
–°–ª–µ–¥—É–π—Ç–µ Conventional Commits

–í—Å–µ PR –¥–æ–ª–∂–Ω—ã —Å–æ–¥–µ—Ä–∂–∞—Ç—å:

–û–ø–∏—Å–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π

–¢–µ—Å—Ç—ã

–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Checkstyle —Å –∫–æ–Ω—Ñ–∏–≥–æ–º Google Java Style

–ù–∞—á–∞–ª–æ —Ä–∞–±–æ—Ç—ã
–§–æ—Ä–∫–Ω–∏—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π

–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ pre-commit —Ö—É–∫–∏:


bash
pre-commit install

bash
git checkout -b feat/your-feature

üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è
–†–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è–µ—Ç—Å—è –ø–æ–¥ –ª–∏—Ü–µ–Ω–∑–∏–µ–π MIT. –ü–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏ –≤ —Ñ–∞–π–ª–µ LICENSE.

üåç –î–æ—Ä–æ–∂–Ω–∞—è –∫–∞—Ä—Ç–∞
–ë–∞–∑–æ–≤–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è —á–∞—Ç–∞

–ì–æ–ª–æ—Å–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è

–í–∏–¥–µ–æ–∑–≤–æ–Ω–∫–∏ (WebRTC)

–ú–æ–±–∏–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (React Native)

–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ø–ª–∞–≥–∏–Ω–æ–≤